function [indices,n] = FindNearestRec(list1,list2)% [indices,n] = FindNearestRec(list1,list2)%% Finds the indices of the members of list2 that% are closest to the members of list1.  Each member% of list2 is returned at most once.  If list2 is shorter% than list1, then only the first part of list1 is used.%% 7/9/94	dhb		Added this comment.% Find sizes and initialize[n1,null] = size(list1);[n2,null] = size(list2);list2left = list2;n2left = n2;% Loop over members of list1for i=1:n1  % Check if done with everyone in list2  % and handle that special case  if (n2left == 0)    break;  end  % Find distance between current member of list1  % and every unused element of list2.  distances = zeros(n2left,1);  for j = 1:n2left    distances(j) = norm(list1(i,:)-list2left(j,:));  end  % Pull out index of closest  [null,indicesleft] = sort(distances);  memberOf2 = list2left(indicesleft(1),:);  % Find which member of original list2 has this index  % and store it  theIndex = find( list2(:,1) == memberOf2(1) & ...                list2(:,2) == memberOf2(2) );  indices(i) = theIndex(1);  % Take the member out of list2left  % by sorting and getting rid of the first  % element  list2left = list2left(indicesleft,:);  list2left = list2left(2:n2left,:);  n2left = n2left - 1; endn = length(indices);